<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>CSS for Org-exported HTML</title><meta name="generator" content="Org-mode"><meta name="author" content="Zhitao Gong"><link id="pagestyle" rel="stylesheet" type="text/css" href="org.css"><script type="text/x-mathjax-config">MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script></head><body><div id="content"><header><h1 class="title">CSS for Org-exported HTML</h1><p class="subtitle">A Clean and Comfort Stylesheet</p></header><script>function swapStyle(e){document.getElementById("pagestyle").setAttribute("href",e)}</script><button onclick="swapStyle(&quot;org.css&quot;)">Customized</button> <button onclick="swapStyle(&quot;org-default.css&quot;)">Default</button><div class="abstract"><p>This article serves as a complete demonstration for my <a href="http:./org.css">org.css</a>, a simple and clean stylesheet for org-exported HTML file. You may switch between the default style provided by Emacs Orgmode, i.e., styles specified in the variable <code>org-html-style-default</code> and my customized stylesheet using the button at the top left corner.</p></div><nav id="table-of-contents"><h2>Table of Contents</h2><div id="text-table-of-contents"><ul><li><a href="#sec:introduction">1. Introduction</a></li><li><a href="#sec:motivation">2. Motivation</a></li><li><a href="#sec:setup">3. Setup</a><ul><li><a href="#sec:external-utilities">3.1. External Utilities</a></li><li><a href="#sec:org-templates">3.2. Org Templates</a></li></ul></li><li><a href="#sec:demo">4. Demo</a><ul><li><a href="#orgheadline1">4.1. <span class="todo TODO">TODO</span> Title with TODO</a></li><li><a href="#orgheadline2">4.2. <span class="done DONE">DONE</span> Title with DONE</a></li><li><a href="#orgheadline3">4.3. <span class="priority">[A]</span> Title with Priority</a></li><li><a href="#orgheadline4">4.4. Title with Tag&#xa0;&#xa0;&#xa0;<span class="tag"><span class="tag0">tag0</span>&#xa0;<span class="tag1">tag1</span></span></a></li><li><a href="#orgheadline5">4.5. Miscellaneous</a></li></ul></li><li><a href="#sec:known-issues">5. Known Issues</a><ul><li><a href="#sec:dangling-element">5.1. <del>Dangling Element</del>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="solved">solved</span></span></a></li><li><a href="#sec:bibliograph-in-wrong-section">5.2. Bibliography in Wrong Section</a></li><li><a href="#sec:wrong-back-reference">5.3. Wrong Back Reference</a></li></ul></li><li><a href="#sec:conclusion">6. Conclusion</a></li></ul></div></nav><div id="outline-container-orgheadline6" class="outline-2"><h2 id="sec:introduction"><a id="orgheadline6"></a><span class="section-number-2">1</span> Introduction</h2><div class="outline-text-2" id="text-sec:introduction"><blockquote><p><a href="http://orgmode.org/">Org mode</a> is for keeping notes<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>, maintaining TODO lists, planning projects, and authoring documents with a fast and effective <i>plain-text</i> system<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup> [<a href="#orgmode">1</a>].</p></blockquote><p>Org mode was created by Carsten Dominik back in 2003. It is a built-in major mode in <a href="http://www.gnu.org/software/emacs/">Emacs</a>. It's similar to <a href="http://daringfireball.net/projects/markdown/syntax">markdown</a> where all editing is done in plain text with some character markups to decorate texts and finally the text file can be exported to some other formats, e.g., HTML. The philosophy is that we can concentrate on the contents with as few distraction from the styles as possible, i.e., as easy-to-read and easy-to-write as is feasible. However, the original markdown is a markup language used to create webpages, while org mode provides much richer functionality beyond simple text markup, e.g., a complete <a href="https://en.wikipedia.org/wiki/Getting_Things_Done">Getting Things Done (GTD)</a> system, task timing and reminder, complete system for reproducible research, etc. In this article however we only focus on one of its uses, <i>generating HTML pages</i>. I will assume that readers are already familiar with Emacs and org mode, otherwise please refer to <a href="http://orgmode.org/">orgmode.org</a> and <a href="https://www.gnu.org/software/emacs/">https://www.gnu.org/software/emacs/</a> for introduction.</p></div></div><div id="outline-container-orgheadline7" class="outline-2"><h2 id="sec:motivation"><a id="orgheadline7"></a><span class="section-number-2">2</span> Motivation</h2><div class="outline-text-2" id="text-sec:motivation"><p>As a heavy Emacs user, <a href="https://www.google.com/search?q=blogging+with+org+mode">blogging with org mode</a> is a natural choice. Since I'm keeping notes and ideas in org mode, and some of them I may want to publish online. Questions like why not use products like MS OneNote or Google Keep or Wordpress or whatever simply boil down to personal preference. Org file is a simple text file which can be processed efficiently by external programs. It has good built-in support from Emacs, and can be exported to various formats, including <i>tex</i>, <i>pdf</i> and <i>html</i>. Except for some special cases where dedicated styles are needed, say academic papers, the default export styles with simple tweaks usually satisfy my needs. However, the default style provided by org html exporter is simple <i>boring</i>. So I decide to tweak the stylesheet a little bit to make it <i>clean</i>, <i>simple</i> and more <i>eye appealing</i>.</p><p>Souce code of this file is available at <a href="https://github.com/gongzhitaao/orgcss">https://github.com/gongzhitaao/orgcss</a>.</p></div></div><div id="outline-container-orgheadline10" class="outline-2"><h2 id="sec:setup"><a id="orgheadline10"></a><span class="section-number-2">3</span> Setup</h2><div class="outline-text-2" id="text-sec:setup"><p>Publishing with org mode can be achieved as simple as a few keystrokes (say <kbd>C-c C-e h h</kbd> for html exporting and <kbd>C-c C-e l p</kbd> for pdf exporting). We omit the publishing configuration as the main goal of this article is to demo my stylesheet. The process can be meticulously tweaked following the <a href="http://orgmode.org/manual/Publishing.html#Publishing">instruction here.</a> Actually in my current setup, no tweaks and special configurations are needed. All remains default and works out of the box.</p></div><div id="outline-container-orgheadline8" class="outline-3"><h3 id="sec:external-utilities"><a id="orgheadline8"></a><span class="section-number-3">3.1</span> External Utilities</h3><div class="outline-text-3" id="text-sec:external-utilities"><p>Table <a href="#orgtable1">1</a> list all the external utilities I used for publishing and rendering.</p><table id="orgtable1"><caption class="t-above"><span class="table-number">Table 1:</span> Utilities</caption><colgroup><col class="org-left"><col class="org-left"></colgroup><thead><tr><th scope="col" class="org-left">Utility</th><th scope="col" class="org-left">Description</th></tr></thead><tbody><tr><td class="org-left"><a href="https://www.lri.fr/~filliatr/bibtex2html/">bibtex2html</a></td><td class="org-left">Export citations in bib files, if any, to html.</td></tr><tr><td class="org-left"><a href="https://www.mathjax.org/">MathJax</a></td><td class="org-left">Render math equations.</td></tr></tbody></table><p>Here are some notes about the above utility.</p><ul class="org-ul"><li><p>Bibtex2html is optional if no citation is required. Citation syntax is the same as in LaTeX, i.e., <code>\cite{key}</code>. To use this functionality, you need to include the following elisp code in your configuration.</p><div class="org-src-container"><pre class="src src-emacs-lisp">(<span style="color:#729fcf;font-weight:700">require</span> '<span style="color:#73d216">ox-bibtex</span>)
</pre></div></li><li>I use <a href="https://www.mathjax.org/">MathJax</a> inline rendering for equations despite of its speed. It is rumored that <a href="http://khan.github.io/KaTeX/">KaTeX</a> loads and renders much faster than MathJax, however the latter supports only a subset of LaTeX syntax. See the <a href="http://www.intmath.com/cg5/katex-mathjax-comparison.php">comparison</a> between the two. Anyway, I do not have that many equations to show off.</li></ul></div></div><div id="outline-container-orgheadline9" class="outline-3"><h3 id="sec:org-templates"><a id="orgheadline9"></a><span class="section-number-3">3.2</span> Org Templates</h3><div class="outline-text-3" id="text-sec:org-templates"><p>The following is my org file template for blogging.</p><div class="org-src-container"><pre class="src src-org"><span style="color:#babdb6">#+TITLE:</span> <span style="color:#729fcf;font-size:140%;font-weight:700">Article Title Goes Here</span>
<span style="color:#babdb6;font-style:italic">#+OPTIONS: toc:nil num:3 H:4 ^:nil pri:t</span>
<span style="color:#babdb6;font-style:italic">#+HTML_HEAD: &lt;link rel="stylesheet" type="text/css" href="org.css"/&gt;</span>

<span style="color:#babdb6;font-style:italic">#+BEGIN_abstract</span>
Article abstract goes here.
<span style="color:#babdb6;font-style:italic">#+END_abstract</span>

<span style="color:#babdb6;font-style:italic"># now prints out the previously disabled (toc:nil) table of contents.</span>
<span style="color:#babdb6;font-style:italic">#+TOC: headlines 2</span>

Your content goes here.

<span style="color:#babdb6;font-style:italic"># prints out bibliograph, if any, with bibtex2html.  The first</span>
<span style="color:#babdb6;font-style:italic"># parameter is the bibliograph file name without .bib extension, the</span>
<span style="color:#babdb6;font-style:italic"># second is the reference style.  The rest parameters are parsed to</span>
<span style="color:#babdb6;font-style:italic"># `bibtex2html'.  Refer to the ox-bibtex document for further</span>
<span style="color:#babdb6;font-style:italic"># information.</span>
<span style="color:#babdb6;font-style:italic">#+BIBLIOGRAPHY: ref.bib plain option:-nobibsource limit:t option:-nokeywords</span>

<span style="color:#babdb6;font-style:italic"># This is an automatically generated section if you use footnote.</span>
<span style="color:#729fcf;font-size:130%;font-weight:700">* Footnotes</span>
</pre></div><p>With all these setup, only one thing is left, i.e., tweaking the styles of exported html. By default, The HTML exporter assigns some <a href="http://orgmode.org/manual/CSS-support.html">special CSS classes</a> to appropriate parts of the document and your style specifications may change these, in addition to any of the standard classes like for headlines, tables, etc. The list is actually not complete, you may want to export a test org file and read the source of exported html file to find out what classes are available. The current page shows off my org.css. Some other good styles for org-exported html can be found on <a href="http://orgmode.org/">http://orgmode.org/</a>, <a href="http://doc.norang.ca/org-mode.html">http://doc.norang.ca/org-mode.html</a> and etc.</p></div></div></div><div id="outline-container-orgheadline18" class="outline-2"><h2 id="sec:demo"><a id="orgheadline18"></a><span class="section-number-2">4</span> Demo</h2><div class="outline-text-2" id="text-sec:demo"><p><span class="timestamp-wrapper"><span class="timestamp">&lt;2015-11-09 Mon 14:41&gt;</span></span></p><p>We use <a href="https://en.wikipedia.org/wiki/Lorem_ipsum">Lorem ipsum</a> text to demonstrate all elements you would expect to see in the org-exported HTML pages. Note however that the <code>.title</code>, <code>.subtitle</code> and <code>#postamble</code> element are not included in this section.</p></div><div id="outline-container-orgheadline1" class="outline-3"><h3 id="orgheadline1"><span class="section-number-3">4.1</span> <span class="todo TODO">TODO</span> Title with TODO</h3></div><div id="outline-container-orgheadline2" class="outline-3"><h3 id="orgheadline2"><span class="section-number-3">4.2</span> <span class="done DONE">DONE</span> Title with DONE</h3></div><div id="outline-container-orgheadline3" class="outline-3"><h3 id="orgheadline3"><span class="section-number-3">4.3</span> <span class="priority">[A]</span> Title with Priority</h3></div><div id="outline-container-orgheadline4" class="outline-3"><h3 id="orgheadline4"><span class="section-number-3">4.4</span> Title with Tag&#xa0;&#xa0;&#xa0;<span class="tag"><span class="tag0">tag0</span>&#xa0;<span class="tag1">tag1</span></span></h3></div><div id="outline-container-orgheadline5" class="outline-3"><h3 id="orgheadline5"><span class="section-number-3">4.5</span> Miscellaneous</h3><div class="outline-text-3" id="text-4-5"></div><div id="outline-container-orgheadline11" class="outline-4"><h4 id="orgheadline11"><span class="section-number-4">4.5.1</span> Table</h4><div class="outline-text-4" id="text-4-5-1"><table><caption class="t-above"><span class="table-number">Table 2:</span> Table Caption</caption><colgroup><col class="org-right"><col class="org-right"><col class="org-right"><col class="org-right"><col class="org-right"><col class="org-right"></colgroup><thead><tr><th scope="col" class="org-right">N</th><th scope="col" class="org-right">N^2</th><th scope="col" class="org-right">N^3</th><th scope="col" class="org-right">N^4</th><th scope="col" class="org-right"><code>sqrt(n)</code></th><th scope="col" class="org-right"><code>sqrt[4](N)</code></th></tr></thead><tbody><tr><td class="org-right">1</td><td class="org-right">1</td><td class="org-right">1</td><td class="org-right">1</td><td class="org-right">1</td><td class="org-right">1</td></tr><tr><td class="org-right">2</td><td class="org-right">4</td><td class="org-right">8</td><td class="org-right">16</td><td class="org-right">1.4142</td><td class="org-right">1.1892</td></tr><tr><td class="org-right">3</td><td class="org-right">9</td><td class="org-right">27</td><td class="org-right">81</td><td class="org-right">1.7321</td><td class="org-right">1.3161</td></tr></tbody></table></div></div><div id="outline-container-orgheadline15" class="outline-4"><h4 id="orgheadline15"><span class="section-number-4">4.5.2</span> List</h4><div class="outline-text-4" id="text-4-5-2"></div><div id="outline-container-orgheadline12" class="outline-5"><h5 id="orgheadline12">The ordered list</h5><div class="outline-text-5" id="text-orgheadline12"><ol class="org-ol"><li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li><li>Donec et massa sit amet ligula maximus feugiat.</li><li>Morbi consequat orci et tincidunt sagittis.</li></ol></div></div><div id="outline-container-orgheadline13" class="outline-5"><h5 id="orgheadline13">Unordered list</h5><div class="outline-text-5" id="text-orgheadline13"><ul class="org-ul"><li>Aliquam non metus nec elit pellentesque scelerisque.</li><li>In accumsan nunc ac orci varius hendrerit.</li><li>Suspendisse non eros eu nisi finibus maximus.</li></ul></div></div><div id="outline-container-orgheadline14" class="outline-5"><h5 id="orgheadline14">Definition list</h5><div class="outline-text-5" id="text-orgheadline14"><dl class="org-dl"><dt>Lorem ipsum</dt><dd>dolor sit amet, consectetur adipiscing elit. Mauris laoreet sollicitudin venenatis. Duis sed consequat dolor.</dd><dt>Etiam feugiat</dt><dd>pharetra sapien et semper. Nunc ornare lacus sit amet massa auctor, vitae aliquam eros interdum. Mauris arcu ante, imperdiet vel purus ac, bibendum faucibus diam. Ut blandit nec mi at ultricies. Donec eget mattis nisl. In sed nibh felis. Cras quis convallis orci.</dd><dt>Sed aliquam</dt><dd>odio sed faucibus aliquam, arcu augue elementum justo, ut vulputate ligula sem in augue. Maecenas ante felis, pellentesque auctor semper non, eleifend quis ante. Fusce enim orci, suscipit ac dapibus et, fermentum eu tortor. Duis in facilisis ante, quis faucibus dolor. Etiam maximus lorem quis accumsan vehicula.</dd></dl></div></div></div><div id="outline-container-orgheadline16" class="outline-4"><h4 id="orgheadline16"><span class="section-number-4">4.5.3</span> Picture</h4><div class="outline-text-4" id="text-4-5-3"><figure><p><img src="./img/pic-demo.png" alt="pic-demo.png"></p><figcaption><span class="figure-number">Figure 1:</span> Demo Picture with Caption</figcaption></figure></div></div><div id="outline-container-orgheadline17" class="outline-4"><h4 id="orgheadline17"><span class="section-number-4">4.5.4</span> Math</h4><div class="outline-text-4" id="text-4-5-4">\begin{align} \mathcal{F}(a) &= \frac{1}{2\pi i}\oint_\gamma \frac{f(z)}{z - a}\,dz\\ \int_D (\nabla\cdot \mathcal{F})\,dV &=\int_{\partial D}\mathcal{F}\cdot n\, dS \end{align}</div></div></div></div><div id="outline-container-orgheadline22" class="outline-2"><h2 id="sec:known-issues"><a id="orgheadline22"></a><span class="section-number-2">5</span> Known Issues</h2><div class="outline-text-2" id="text-sec:known-issues"><p>The citation exporter, <code>ox-bibtex</code>, does NOT work seamlessly. As of <code>Org-mode 8.3.2</code>, I have the following issues.</p></div><div id="outline-container-orgheadline19" class="outline-3"><h3 id="sec:dangling-element"><a id="orgheadline19"></a><span class="section-number-3">5.1</span> <del>Dangling Element</del>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="solved">solved</span></span></h3><div class="outline-text-3" id="text-sec:dangling-element"><p>The lisp function <code>insert-file-contents</code> used in <code>ox-bibtex</code> does not move point and insertion-marker to the end of inserted text (I'm not sure it is a bug or an intention). The result is that the citation is a dangling table not included in the bibliography div.</p><p>The expected result is</p><div class="org-src-container"><pre class="src src-html">&lt;<span style="color:#fcaf3e;font-weight:700">div</span> <span style="color:#ff2929">id</span>=<span style="color:#de7fa8">"bibliography"</span>&gt;
  &lt;<span style="color:#fcaf3e;font-weight:700">h2</span>&gt;<span style="font-weight:700;font-style:italic;text-decoration:underline">Bibliography</span>&lt;/<span style="color:#fcaf3e;font-weight:700">h2</span>&gt;
  &lt;<span style="color:#fcaf3e;font-weight:700">table</span>&gt;
  <span style="color:#babdb6;font-style:italic">&lt;!-- </span><span style="color:#babdb6;font-style:italic">Citation content goes here </span><span style="color:#babdb6;font-style:italic">--&gt;</span>
  &lt;/<span style="color:#fcaf3e;font-weight:700">table</span>&gt;
&lt;/<span style="color:#fcaf3e;font-weight:700">div</span>&gt;
</pre></div><p>But we got</p><div class="org-src-container"><pre class="src src-html">&lt;<span style="color:#fcaf3e;font-weight:700">div</span> <span style="color:#ff2929">id</span>=<span style="color:#de7fa8">"bibliography"</span>&gt;
  &lt;<span style="color:#fcaf3e;font-weight:700">h2</span>&gt;<span style="font-weight:700;font-style:italic;text-decoration:underline">Bibliography</span>&lt;/<span style="color:#fcaf3e;font-weight:700">h2</span>&gt;
&lt;/<span style="color:#fcaf3e;font-weight:700">div</span>&gt;
&lt;<span style="color:#fcaf3e;font-weight:700">table</span>&gt;
<span style="color:#babdb6;font-style:italic">&lt;!-- </span><span style="color:#babdb6;font-style:italic">Citation content goes here </span><span style="color:#babdb6;font-style:italic">--&gt;</span>
&lt;/<span style="color:#fcaf3e;font-weight:700">table</span>&gt;
</pre></div><p>Unless a patch is submitted, we may need to manually adjust this weird result.</p></div></div><div id="outline-container-orgheadline20" class="outline-3"><h3 id="sec:bibliograph-in-wrong-section"><a id="orgheadline20"></a><span class="section-number-3">5.2</span> Bibliography in Wrong Section</h3><div class="outline-text-3" id="text-sec:bibliograph-in-wrong-section"><p>The exported bibliography is always included in some other section div instead of a stand-lone section.</p><p>The expected result is</p><div class="org-src-container"><pre class="src src-html">&lt;<span style="color:#fcaf3e;font-weight:700">div</span> <span style="color:#ff2929">id</span>=<span style="color:#de7fa8">"outline-container-1"</span> <span style="color:#ff2929">class</span>=<span style="color:#de7fa8">"outline-2"</span>&gt;
  <span style="color:#babdb6;font-style:italic">&lt;!-- </span><span style="color:#babdb6;font-style:italic">section 1 </span><span style="color:#babdb6;font-style:italic">--&gt;</span>
&lt;/<span style="color:#fcaf3e;font-weight:700">div</span>&gt;
&lt;<span style="color:#fcaf3e;font-weight:700">div</span> <span style="color:#ff2929">id</span>=<span style="color:#de7fa8">"outline-container-2"</span> <span style="color:#ff2929">class</span>=<span style="color:#de7fa8">"outline-2"</span>&gt;
  <span style="color:#babdb6;font-style:italic">&lt;!-- </span><span style="color:#babdb6;font-style:italic">section 2 </span><span style="color:#babdb6;font-style:italic">--&gt;</span>
&lt;/<span style="color:#fcaf3e;font-weight:700">div</span>&gt;
&lt;<span style="color:#fcaf3e;font-weight:700">div</span> <span style="color:#ff2929">id</span>=<span style="color:#de7fa8">"outline-container-3"</span> <span style="color:#ff2929">class</span>=<span style="color:#de7fa8">"outline-2"</span>&gt;
  <span style="color:#babdb6;font-style:italic">&lt;!-- </span><span style="color:#babdb6;font-style:italic">section 3 </span><span style="color:#babdb6;font-style:italic">--&gt;</span>
&lt;/<span style="color:#fcaf3e;font-weight:700">div</span>&gt;
&lt;<span style="color:#fcaf3e;font-weight:700">div</span> <span style="color:#ff2929">id</span>=<span style="color:#de7fa8">"bibliography"</span>&gt;
  <span style="color:#babdb6;font-style:italic">&lt;!-- </span><span style="color:#babdb6;font-style:italic">bibliography goes here </span><span style="color:#babdb6;font-style:italic">--&gt;</span>
&lt;/<span style="color:#fcaf3e;font-weight:700">div</span>&gt;
</pre></div><p>But we got</p><div class="org-src-container"><pre class="src src-html">&lt;<span style="color:#fcaf3e;font-weight:700">div</span> <span style="color:#ff2929">id</span>=<span style="color:#de7fa8">"outline-container-1"</span> <span style="color:#ff2929">class</span>=<span style="color:#de7fa8">"outline-2"</span>&gt;
  <span style="color:#babdb6;font-style:italic">&lt;!-- </span><span style="color:#babdb6;font-style:italic">section 1 </span><span style="color:#babdb6;font-style:italic">--&gt;</span>
&lt;/<span style="color:#fcaf3e;font-weight:700">div</span>&gt;
&lt;<span style="color:#fcaf3e;font-weight:700">div</span> <span style="color:#ff2929">id</span>=<span style="color:#de7fa8">"outline-container-2"</span> <span style="color:#ff2929">class</span>=<span style="color:#de7fa8">"outline-2"</span>&gt;
  <span style="color:#babdb6;font-style:italic">&lt;!-- </span><span style="color:#babdb6;font-style:italic">section 2 </span><span style="color:#babdb6;font-style:italic">--&gt;</span>
&lt;/<span style="color:#fcaf3e;font-weight:700">div</span>&gt;
&lt;<span style="color:#fcaf3e;font-weight:700">div</span> <span style="color:#ff2929">id</span>=<span style="color:#de7fa8">"outline-container-3"</span> <span style="color:#ff2929">class</span>=<span style="color:#de7fa8">"outline-2"</span>&gt;
  <span style="color:#babdb6;font-style:italic">&lt;!-- </span><span style="color:#babdb6;font-style:italic">section 3 </span><span style="color:#babdb6;font-style:italic">--&gt;</span>
  &lt;<span style="color:#fcaf3e;font-weight:700">div</span> <span style="color:#ff2929">id</span>=<span style="color:#de7fa8">"bibliography"</span>&gt;
    <span style="color:#babdb6;font-style:italic">&lt;!-- </span><span style="color:#babdb6;font-style:italic">bibliography goes here </span><span style="color:#babdb6;font-style:italic">--&gt;</span>
  &lt;/<span style="color:#fcaf3e;font-weight:700">div</span>&gt;
&lt;/<span style="color:#fcaf3e;font-weight:700">div</span>&gt;
</pre></div><p>The problem is that the <code>#+BIBLIOGRAPHY</code> command is always ignored unless it is belonged to a section. This is due to the internal implementation of keyword parser of <code>ox-html</code>. Currently hacking some post-processing code is the only solution if you do not want to do it manually.</p></div></div><div id="outline-container-orgheadline21" class="outline-3"><h3 id="sec:wrong-back-reference"><a id="orgheadline21"></a><span class="section-number-3">5.3</span> Wrong Back Reference</h3><div class="outline-text-3" id="text-sec:wrong-back-reference"><p>The links generated by <code>ox-bibtex</code> is also troublesome. Given <code>ref.bib</code>, <code>bibtex2html</code> will generate two files, <code>reb_bib.html</code> and <code>ref.html</code>. The utility <code>ox-bibtex</code> directly inserts contents of <code>ref.html</code> to the current exported html. Now when you click links in the exported html, you will be directed to <code>ref_bib.html</code>. And when expecting to get back to the exported html by clicking links in <code>ref_bib.html</code>, you will be instead directed to <code>ref.html</code>. My solution is to remove the bibliograph source with <code>option:-nobibsource</code>.</p></div></div></div><div id="outline-container-orgheadline23" class="outline-2"><h2 id="sec:conclusion"><a id="orgheadline23"></a><span class="section-number-2">6</span> Conclusion</h2><div class="outline-text-2" id="text-sec:conclusion"><p>This article essentially demonstrates my stylesheet for org-exported html file without going into details about the publishing process which requires some knowledge about Emacs and org mode. There are some dangling issues around the citation with <code>ox-bibtex</code>, to which the simple solution is to use links instead of citations, if possible. Otherwise, hacking some post-processing code is necessary.</p></div></div><div id="bibliography"><h2>References</h2><table><tr valign="top"><td align="right" class="bibtexnumber">[<a name="orgmode">1</a>]</td><td class="bibtexitem">Carsten Dominik and <a href="http://orgmode.org/org.html#History-and-Acknowledgments">many others</a>. Org mode for Emacs, 2003. [&nbsp;<a href="http://orgmode.org/">http</a>&nbsp;]</td></tr></table></div><div id="footnotes"><h2 class="footnotes">Footnotes:</h2><div id="text-footnotes"><div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup><div class="footpara"><p class="footpara">For note keeping, <a href="http://jblevins.org/projects/deft/">Deft</a> with Orgmode make a cute couple.</p></div></div><div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup><div class="footpara"><p class="footpara">A <a href="http://doc.norang.ca/org-mode.html">great article</a> elaborates on this.</p></div></div></div></div></div><div id="postamble" class="status"><a class="author" href="http://gongzhitaao.org">Zhitao Gong</a> / <span class="date">2016-03-31 Thu 15:13</span><span class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.3.4)</span></div></body></html>